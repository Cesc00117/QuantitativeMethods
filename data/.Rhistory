setwd('D:/QuantMethods')
x <- read.table('m-fac9003.txt', header = T)
setwd("D:/QuantMethods/data")
x <- read.table('m-fac9003.txt', header = T)
View(x)
xmtx <- cbind(rep(1,168), x[,14])
View(xmtx)
View(xmtx)
xit.hat <- solve(t(xmtx)%*%xmtx%*%t(xmtx)%*%rtn) # 代入回归系数的计算公式(矩阵表达式)
rtn <- as.matrix(x[,1:13])
xit.hat <- solve(t(xmtx)%*%xmtx%*%t(xmtx)%*%rtn) # 代入回归系数的计算公式(矩阵表达式)
xit.hat <- solve(t(xmtx)%*%xmtx)%*%t(xmtx)%*%rtn # 代入回归系数的计算公式(矩阵表达式)
beta.hat <- t(xit.hat[2,])
? solve
? rev
E.hat <- rtn - xmtx%*%beta.hat
E.hat <- rtn - xmtx%*%xhit.hat
E.hat <- rtn - xmtx%*%xit.hat
E.hat
View(beta.hat)
View(xit.hat)
D.hat <- diag(crossprod(E.hat)/(168-2))
r.square <- 1-(168-2)*D.hat/diag(t(rtn)%*%rtn)
r.square <- 1-diag(crossprod(E.hat)/diag(t(rtn)%*%rtn)
r.square <- 1-(168-2)*D.hat/diag(t(rtn)%*%rtn)
r.square <- 1-(168-2)*D.hat/diag(t(rtn)%*%rtn)
r.square <- 1-(168-2)*D.hat/diag(t(rtn)%*%rtn)
r.square <- 1-diag(crossprod(E.hat))/diag(t(rtn)%*%rtn)
r.square <- 1-(168-2)*D.hat/diag(t(rtn)%*%rtn)
r.square <- 1-diag(crossprod(E.hat))/diag(t(rtn)%*%rtn)
t(rbind(beta.hat, sqrt(D.hat), r.square))
a <- t(rbind(beta.hat, sqrt(D.hat), r.square))
View(a)
t(rbind(beta.hat, sqrt(D.hat), r.square))
remove(a)
stopifnot(sort(x, decreasing = TRUE) == rev(sort(x)))
x<-c(1,2)
stopifnot(sort(x, decreasing = TRUE) == rev(sort(x)))
xx <- stopifnot(sort(x, decreasing = TRUE) == rev(sort(x)))
xx
x
setwd("D:/QuantMethods/data")
x <- read.table('m-fac9003.txt', header = T) #前13列是股票，最后一列是市场
View(x)
View(x)
? lm
x <- read.table("m-5clog-9008.txt", header = T)
x <- read.table("m-5clog-9008.txt", header = T)
View(x)
View
View(x)
remove(x)
rtn <- read.table("m-5clog-9008.txt", header = T) # 5只股票的数据
pca.cov <- princomp(rtn)
pca.cov
pca.cov$
pca.cov$loadings
pca.cov$loadings
names(pca.cov)
pca.cov$sdev # 特
summary(pca.cov)
pca.cov
pca.cov$loadings
screeplot(pca.cov)
pca.corr <- princomp(rtn, cor=T)
summary(pca.corr)
pca
? pca
? pcauchy
? pca.corr
